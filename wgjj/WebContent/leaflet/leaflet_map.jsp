<%@ page language="java" import="java.util.*" pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<title>基础地图</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<link href="${pageContext.request.contextPath }/leaflet/basic/leaflet.css" type="text/css" rel="stylesheet" />
<link href="${pageContext.request.contextPath }/leaflet/basic/leaflet.draw.css" type="text/css" rel="stylesheet" />
<link href="${pageContext.request.contextPath }/leaflet/basic/leaflet.measurecontrol.css" type="text/css" rel="stylesheet" />
<link href="${pageContext.request.contextPath }/leaflet/leaflet_map.css" type="text/css" rel="stylesheet" />
<link href="${pageContext.request.contextPath }/css/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>

<script src="${pageContext.request.contextPath }/js/jquery-1.10.2.min.js" type="text/javascript"></script>
<script src="${pageContext.request.contextPath }/leaflet/basic/jwd_dfm_transform_tool.js" type="text/javascript"></script>
<script src="${pageContext.request.contextPath }/leaflet/basic/leaflet.js" type="text/javascript"></script>
<script src="${pageContext.request.contextPath }/leaflet/basic/leaflet.ChineseTmsProviders.js" type="text/javascript"></script>
<script src="${pageContext.request.contextPath }/leaflet/basic/proj4.js" type="text/javascript"></script>
<script src="${pageContext.request.contextPath }/leaflet/basic/proj4leaflet.js" type="text/javascript"></script>
<script src="${pageContext.request.contextPath }/leaflet/basic/leaflet-heat.js" type="text/javascript"></script>
<script src="${pageContext.request.contextPath }/leaflet/basic/leaflet.draw.js" type="text/javascript"></script>
<script src="${pageContext.request.contextPath }/leaflet/basic/leaflet.measurecontrol.js" type="text/javascript"></script>
<script src="${pageContext.request.contextPath }/leaflet/basic/coordTransform.js" type="text/javascript"></script>
<script src="${pageContext.request.contextPath }/leaflet/basic/leaflet-tilelayer-wmts-src.js" type="text/javascript"></script>
<script src="${pageContext.request.contextPath }/leaflet/basic/turf.min.js" type="text/javascript"></script>

<script type="text/javascript">
	var transform_to_wgs84 = true;// 需要坐标系转换
	var ctx = "${pageContext.request.contextPath }";
	var locs="${userbean.sysDept.rangeLoc}";

	var map;
	var maxBounds_default=[[41.0888671,115.3536987], [39.4024658,117.6498413]];
	
	//底图初始化默认中心点
	var center_point = [40.0711508499382,116.11285528163073];//北京海淀机场
	if(locs){//123.3627262,42.3846287|123.3748025,42.3997647|123.3875758,42.3901224|123.3787473,42.3808086
		center_point=getCenterPointByPolygonWgs84(locs);
		var wgs84PointsArray = getPointsArrayByPolygonWgs84(locs);
		if(transform_to_wgs84){
			maxBounds_default = [];
			for(var i=0;i<wgs84PointsArray.length;i++){
				maxBounds_default.push(wgs84_to_gcj02(wgs84PointsArray[i].lng, wgs84PointsArray[i].lat));
			}
		}else{
			maxBounds_default = wgs84PointsArray;
		}
	}
	
	//默认地图的缩放比例
	var dftZoom = 12;
	//默认的最小缩放比例
	var dftMinZoom=4;
	//默认的最大缩放比例
	var dftMaxZoom=17;
	//默认显示无人机标牌的比例
	var showLabel = 9;//地图缩放级别为13是显示标牌
	//默认显示覆盖物label的比例
	var showOverlayLabel = 99;//地图缩放级别为多少时显示覆盖物的label

	//所有覆盖物数组
	var overlayArray=[];
	//点		：{'overlayType':'marker','overlayObj':marker,'overlayId':jd+','+wd};
	//无人机 ：{'overlayType':'marker','overlayObj':marker};
	//尾迹	：{'overlayType':'marker','overlayObj':marker};
	
	//'topleft', 'topright', 'bottomleft' or 'bottomright'
	var TOP_RIGHT = 'topright';//右上
	var TOP_LEFT = 'topleft';//左上
	var BOTTOM_RIGHT = 'bottomright';//右下
	var BOTTOM_LEFT = 'bottomleft';//左下
	var RIGHT_TOP = 'topright';//右上
	var LEFT_TOP = 'topleft';//左上
	var RIGHT_BOTTOM = 'bottomright';//右下
	var LEFT_BOTTOM = 'bottomleft';//左下

	//普通地图
	var BJSL_layer = L.tileLayer.chinaProvider("GaoDe.Normal.Map",{
		maxZoom: dftMaxZoom,
		minZoom: dftMinZoom
	});
	//卫星地图
	var JXWYX_layer = L.tileLayer.chinaProvider("GaoDe.Satellite.Map",{
		maxZoom: dftMaxZoom,
		minZoom: dftMinZoom
	});
	
	function showMap(max_bounds,minMapZoom) {
		var mapName = "";
	 	if('${param.mapType}' != null && '${param.mapType}' == '1'){
	 		mapName = "Geoq.Normal.PurplishBlue";
	 		dftMaxZoom = 18;
	 		dftMinZoom = 5;
	 	}else{
	 		mapName = "GaoDe.Normal.Map";
			dftMaxZoom = 18;
	 	}
		var Lide = L.tileLayer.chinaProvider(mapName,{
			maxZoom: dftMaxZoom,
			minZoom: dftMinZoom
		});
		BJSL_layer = Lide;
		
		var maxBounds=null;
		if(max_bounds==null){
			maxBounds = L.latLngBounds(maxBounds_default);
		}else{
			maxBounds = L.latLngBounds(max_bounds);
		}
		if(minMapZoom!=null){
			dftMinZoom=minMapZoom;
		}
			
		map = L.map("map", {  
	        center: center_point, 
	        zoom: dftZoom,  
	        layers: [BJSL_layer],  
	        zoomControl: false,
	       // maxBounds:maxBounds,
	        doubleClickZoom:false//没找到动态启用和禁用双击放大地图的方法，所以先关闭
	    });
	    /**
	     * 添加导航菜单 ,可选值有  'topleft', 'topright', 'bottomleft' or 'bottomright'
	     */
		//添加地图类型切换控件
		addMapTypeControl();
	    //添加测量控件
	    addMeasureControl();
		//添加比例尺控件
		addScaleControl();
	  	//添加缩放控件
	  	addNavigationControl();
	    
		//鼠标滑过地图，页面上相应位置展示当前经纬度和缩放比例
		L.DomEvent.on(map,"mousemove",function(e){
			var wgs84 = gcj02_to_wgs84(e.latlng.lng,e.latlng.lat);
			$("#currMouseLng",parent.document).html(jwd_to_dfm(wgs84.lng,"LNG"));
			$("#currMouseLat",parent.document).html(jwd_to_dfm(wgs84.lat,"LAT"));
			$("#currZoom",parent.document).html(map.getZoom());
		});
		
		//地图缩放，页面上相应位置展示当前缩放比例
		L.DomEvent.on(map,"zoomend",function(e){
			$("#currZoom",parent.document).html(map.getZoom());
			isShowLabel();
			isShowPolygonLabel();
			
			$("body").trigger("zoomend");
		});
		
		L.DomEvent.on(map,"dragend", function(e){
			// 地图拖动
			$("body").trigger("dragend");
		});
		
		L.DomEvent.on(map,"resize", function(e){
			// 页面缩放
			$("body").trigger("resized");
		});
		
		L.DomEvent.on(map,"click", function(e){
			// 地图单击事件
			 /**
	         * latlng是我们的基本返回对象
	         * latlng.lng 获取经度     latlng.lat 获取纬度
	         */
			var latlng = gcj02_to_wgs84(e.latlng.lng,e.latlng.lat);
	        if((latlng.lng+"").indexOf(".")!=-1 && (latlng.lng+"").split(".")[1].length > 7){
	        	latlng.lng = parseFloat((latlng.lng+"").split(".")[0] + "." + (latlng.lng+"").split(".")[1].substring(0, 7));
	        }
	        if((latlng.lat+"").indexOf(".")!=-1 && (latlng.lat+"").split(".")[1].length > 7){
	        	latlng.lat = parseFloat((latlng.lat+"").split(".")[0] + "." + (latlng.lat+"").split(".")[1].substring(0, 7));
	        }
			$("body").trigger("clicked",[latlng.lng,latlng.lat]);
		});
	}

	//为地图绑定缩放
	function mapBindZoomend(callbackFun){
		L.DomEvent.on(map,"zoomend",function(e){
			callbackFun.apply(this,[map.getZoom()]);
		});
	}
	//为body绑定缩放事件
	function bindZoomListener(callbackFun){
		$("body").on("zoomend",function(e){
			callbackFun.apply(this,[map.getZoom()]);
		});
	}

	// 移除缩放事件
	function destroyZoomListener(){
		$("body").off("zoomend");
	}
	
	//为body绑定拖动事件
	function bindDragListener(callbackFun){
		$("body").on("dragend",function(e){
			callbackFun.apply(this);
		});
	}
	
	// 移除拖动事件
	function destroyDragListener(){
		$("body").off("dragend");
	}
	
	//为body绑定单击事件
	function bindClickListener(callbackFun){
		$("body").on("clicked",function(e,lng,lat){
			callbackFun.apply(this,[lng,lat]);
		});
	}
	
	// 移除单击事件
	function destroyClickListener(){
		$("body").off("clicked");
	}
	
	//为body绑定浏览器缩放事件
	function bindResizeListener(callbackFun){
		$("body").on("resized",function(e){
			callbackFun.apply(this);
		});
	}
	
	// 移除浏览器缩放事件
	function destroyResizeListener(){
		$("body").off("resized");
	}
	
	//将经纬度转换成像素坐标
	function latLngToXy(latLng){
		var xy = map.latLngToLayerPoint(latLng);
		return xy;
	}
	
	//WGS84坐标转国测局02坐标
	function wgs84_to_gcj02(jd,wd){
		if(transform_to_wgs84){//需要转换成wgs84坐标系
			var gcj02 = coordtransform.wgs84togcj02(jd,wd);
			return createPoint(gcj02[0],gcj02[1]);
		}else{//不需要转换
			return createPoint(jd,wd);
		}
	}
	
	//国测局02坐标转WGS84坐标
	function gcj02_to_wgs84(jd,wd){
		if(transform_to_wgs84){//需要转换成wgs84坐标系
			var wgs84 = coordtransform.gcj02towgs84(jd,wd);
			return createPoint(wgs84[0],wgs84[1]);
		}else{//不需要转换
			return createPoint(jd,wd);
		}
	}
	
	//创建点
	function createPoint(jd,wd){
		return L.latLng(wd,jd);
	}

	//获得地图缩放比例
	function getMapZoom(){
		return map.getZoom();
	}

	//锁定地图缩放比例
	function lockMapZoom(zoom, gridMapLvl){
		if(zoom<gridMapLvl)
			map.setZoom(gridMapLvl);
		map.setMinZoom(gridMapLvl);
	}
	
	//解锁地图缩放比例
	function unlockMapZoom(){
		map.setMinZoom(dftMinZoom);
	}
	
	//判断网格是否包含某个点
	function gridContainsPoint(g, lng, lat){
		return g.overlayObj.getBounds().contains(wgs84_to_gcj02(lng,lat));
	}
	
	//判断多边形是否包含某个点
	function overlayContainsLngLat(overlayObj,lng,lat){
		return overlayObj.overlayObj.getBounds().contains(wgs84_to_gcj02(lng,lat));
	}
	
	//设置地图不可拖动
	function setMapDisableDragging(){
		map.dragging.disable();
	}
	
	//给地图绑定click事件(参数为要执行的方法，该方法有两个参数(经度、纬度))
	function mapBindClick(callbackFun){
		//为map绑定click事件
		L.DomEvent.on(map,"click",function(e){
	        /**
	         * latlng是我们的基本返回对象
	         * latlng.lng 获取经度     latlng.lat 获取纬度
	         */
			var latlng = gcj02_to_wgs84(e.latlng.lng,e.latlng.lat);
	        if((latlng.lng+"").indexOf(".")!=-1 && (latlng.lng+"").split(".")[1].length > 7){
	        	latlng.lng = parseFloat((latlng.lng+"").split(".")[0] + "." + (latlng.lng+"").split(".")[1].substring(0, 7));
	        }
	        if((latlng.lat+"").indexOf(".")!=-1 && (latlng.lat+"").split(".")[1].length > 7){
	        	latlng.lat = parseFloat((latlng.lat+"").split(".")[0] + "." + (latlng.lat+"").split(".")[1].substring(0, 7));
	        }
			callbackFun.apply(this,[latlng.lng,latlng.lat]);
		});
	}

	//打开信息窗口，窗口内容，窗口样式，窗口位置
	function openInfoWindow(infoWindowMsg,latlng){
		var content = "<div style='line-height:1.8em;font-size:12px;'>"  
			+ infoWindowMsg                                  
			+ "</div>";
       	var popup = L.popup().setLatLng(latlng).setContent(content).openOn(map);
	}
	
	//清除所有popup
	function clearPopup(){
		map.closePopup(); 
	}
	
	//获得一组经纬度的最大纬度点:如果最大纬度包含多个点，则返回最大经度的点
	function getMaxLatPointByPolygonWgs84(polygonWgs84){
		var coordinatesArray=[];
		if(polygonWgs84.indexOf(";")!=-1){//网格
			var wgs84 = polygonWgs84.split(';');
			for(var k=0;k<wgs84.length;k++){
				var polygonWgs84s = wgs84[k].split("|");
				for(var i=0;i<polygonWgs84s.length;i++){
					coordinatesArray.push([parseFloat(polygonWgs84s[i].split(",")[0]),parseFloat(polygonWgs84s[i].split(",")[1])]);
				}
			}
		}else{//其他图形
			var polygonWgs84s = polygonWgs84.split("|");
			for(var i=0;i<polygonWgs84s.length;i++){
				coordinatesArray.push([parseFloat(polygonWgs84s[i].split(",")[0]),parseFloat(polygonWgs84s[i].split(",")[1])]);
			}
		}
		var maxLatObjArry = [];
		var maxLat = -90;
		for(var i=0;i<coordinatesArray.length;i++){
			if(maxLat < coordinatesArray[i][1]){
				maxLat = coordinatesArray[i][1];
			}
		}
		for(var i=0;i<coordinatesArray.length;i++){
			if(maxLat == coordinatesArray[i][1]){
				maxLatObjArry.push(coordinatesArray[i]);
			}
		}
		if(maxLatObjArry.length == 1){
			//如果只有一个则返回该坐标
			return createPoint(maxLatObjArry[0][0],maxLatObjArry[0][1]);
		}else{
			//如果最大纬度包含多个点，则返回最大经度的点
			var maxLng = -180;
			var maxLngObj = [];
			for(var i=0;i<maxLatObjArry.length;i++){
				if(maxLng < maxLatObjArry[i][0]){
					maxLng = maxLatObjArry[i][0];
					maxLngObj = maxLatObjArry[i];
				}
			}
			return createPoint(maxLngObj[0],maxLngObj[1]);
		}
	}
	
	//获得一组经纬度的中心点
	function getCenterPointByPolygonWgs84(polygonWgs84){
		var pointsArry= getPointsArrayByPolygonWgs84(polygonWgs84);
		return getCenterPointByPointArray(pointsArry);
	}
	
	// 根据多边形获得地图的经纬度数组
	function getPointsArrayByPolygonWgs84(polygonWgs84){
		var pointsArry=[];
		if(polygonWgs84.indexOf(";")!=-1){//网格
			var wgs84 = polygonWgs84.split(';');
			for(var k=0;k<wgs84.length;k++){
				var polygonWgs84s = wgs84[k].split("|");
				for(var i=0;i<polygonWgs84s.length;i++){
					pointsArry.push(createPoint(parseFloat(polygonWgs84s[i].split(",")[0]),parseFloat(polygonWgs84s[i].split(",")[1])));
				}
			}
		}else{//其他图形
			var polygonWgs84s = polygonWgs84.split("|");
			for(var i=0;i<polygonWgs84s.length;i++){
				pointsArry.push(createPoint(parseFloat(polygonWgs84s[i].split(",")[0]),parseFloat(polygonWgs84s[i].split(",")[1])));
			}
		}
		return pointsArry;
	}

	//触发指定覆盖物的click事件
	function triggerPointOverlayArryClick(overlay,opt){
		opt.latlng = opt.point;
		overlay.overlayObj.fire("click",opt);
	}
	
	//获得一堆数据的中心
	function getCenterPointByPointArray(points){
		var bounds = L.latLngBounds(points);
		var centerPoint = bounds.getCenter();   
		return centerPoint;
	}
	
	//获得地图可视范围：返回值是东北和西南两个点
	function getMapBounds(){
		var bs = map.getBounds();
        var result = {};
        result.getSouthWest=function getSouthWest(){
        	return gcj02_to_wgs84(bs.getSouthWest().lng,bs.getSouthWest().lat);
        }
        result.getNorthEast=function getNorthEast(){
        	return gcj02_to_wgs84(bs.getNorthEast().lng,bs.getNorthEast().lat);
        }
        return result;
	}
	
	//判断当前地图可视范围是否包含某个经纬度
	function pointIsInMapBounds(lng,lat){
		return map.getBounds().contains(wgs84_to_gcj02(lng,lat));
	}
	
	//获得相对于地图的指定包围盒并判断某个经纬度是否在范围内
	function lngLatIsInPointMapBounds(lng,lat){
		var step = 0;
		var mapBounds = map.getBounds();
		var maxLng = mapBounds.getNorthEast().lng-step;
		var maxLat = mapBounds.getNorthEast().lat-step;
		var minLng = mapBounds.getSouthWest().lng+step;
		var minLat = mapBounds.getSouthWest().lat+step;
	    var pointBounds = L.latLngBounds(createPoint(minLng,minLat),createPoint(maxLng,maxLat));
	    return pointBounds.contains(wgs84_to_gcj02(lng,lat));
	}
	
	//创建偏移量
	function createOffset(x,y){
		return null;
	}
	
	$(document).ready(function(){
		showMap(null,null);
	});
</script>
<script src="${pageContext.request.contextPath }/leaflet/basic/moveTip.js" type="text/javascript"></script>
<script src="${pageContext.request.contextPath }/leaflet/util/leaflet_control.js" type="text/javascript"></script>
<script src="${pageContext.request.contextPath }/leaflet/util/leaflet_marker.js" type="text/javascript"></script>
<script src="${pageContext.request.contextPath }/leaflet/util/leaflet_line.js" type="text/javascript"></script>
<script src="${pageContext.request.contextPath }/leaflet/util/leaflet_polygon.js" type="text/javascript"></script>
<script src="${pageContext.request.contextPath }/leaflet/util/leaflet_heatmap.js" type="text/javascript"></script>
<script src="${pageContext.request.contextPath }/leaflet/util/leaflet_overlay.js" type="text/javascript"></script>
<script src="${pageContext.request.contextPath }/leaflet/util/leaflet_positionMap.js" type="text/javascript"></script>
<script src="${pageContext.request.contextPath }/leaflet/util/leaflet_geojson.js" type="text/javascript"></script>
<script src="${pageContext.request.contextPath }/leaflet/util/leaflet_layerGroup.js" type="text/javascript"></script>
<script src="${pageContext.request.contextPath }/leaflet/util/leaflet_circle.js" type="text/javascript"></script>
<script src="${pageContext.request.contextPath }/leaflet/util/leaflet_adsb.js" type="text/javascript"></script>
<script type="text/javascript">
$(function(){
	/* drawCircle("116.378058276101","39.95731200890141",1000,"#000000","#000000",0.3,1);
	//经纬度
	var wgs84_1 = "116.38620927681697,39.963772661038924|116.38612369704386,39.96376454089751|116.38583280297934,39.963731209061635|116.38554308964507,39.96369226193065|116.38525474009273,39.96364772411354|116.38496793651869,39.963597623751106|116.38468286014911,39.963541992498854|116.38439969109744,39.96348086550496|116.3841188472912,39.96341433800995|116.38384019063722,39.96334238076539|116.38356381167723,39.963265012052766|116.38329004735039,39.96318232266914|116.38301907062689,39.96309436486192|116.38275105271367,39.96300119420486|116.38248616294618,39.9629028695682|116.38222456868132,39.962799453075576|116.38196689508084,39.962691203270595|116.381713731637,39.96257840209225|116.38146305658866,39.962460138311144|116.38121642562236,39.962337114669715|116.38097399094018,39.962209412683436|116.38073621588804,39.962077291172015|116.38050218803481,39.961940235967084|116.38027271090793,39.96179869799777|116.38004792946535,39.96165276668944|116.3798279856948,39.96150253424257|116.37961301853348,39.96134809557434|116.37940318391657,39.96118956348799|116.37919872769994,39.96102712972232|116.37899949206802,39.960860668153465|116.37880575645273,39.96069040597808|116.3786176432056,39.96051645076492|116.37843527113776,39.960338912414464|116.37825875542404,39.960157903092|116.37808820753658,39.95997353715317|116.3779237351731,39.95978593107604|116.37776544218664,39.959595203380616|116.37761342854382,39.95940147456149|116.37746779022046,39.95920486700619|116.37732861915657,39.95900550492184|116.37719600323943,39.95880351425391|116.37707002616725,39.95859902260713|116.37695076747774,39.95839215916332|116.3768383024559,39.95818305460609|116.37673270206867,39.957971841029305|116.3766340517381,39.957758692405|116.37654238485781,39.95754368265047|116.37645776071182,39.95732694747928|116.37638024135828,39.95710864413468|116.37630987569743,39.956888910516895|116.376246708113,39.9566678854282|116.37619077843388,39.95644570848597|116.37614212192076,39.95622252003332|116.3761007692367,39.95599846105103|116.37606674643357,39.955773673068556|116.37604007492646,39.95554829807439|116.37602077149216,39.955322478426055|116.37600884825093,39.955096356761715|116.37600431266101,39.95487007590772|116.37600716751415,39.95464377878993|116.3760174109341,39.95441760834323|116.37603503637685,39.95419170742142|116.37606003263754,39.95396621870521|116.37609238385782,39.95374128461578|116.37613206952811,39.95351704722097|116.37617906451429,39.953293648147714|116.3762333390649,39.953071228491865|116.37629485882611,39.95284992872981|116.3763635848759,39.95262988862911|116.37643947373937,39.95241124715958|116.37652247741937,39.95219414240795|116.37661254342684,39.95197871148771|116.37670961481379,39.95176509045467|116.37681363020845,39.95155341421984|116.37692452385767,39.9513438164652|116.37704222566688,39.95113642955834|116.3771666612382,39.950931384470515|116.37729775193263,39.9507288106911|116.37743541474237,39.95052883637831|116.37757956287086,39.95033158752513|116.37773010531627,39.95013718859361|116.37788694683717,39.94994576251186|116.37804998833195,39.949757430163764|116.37821912679217,39.94957231047926|116.37839425536193,39.94939052035792|116.37857526340234,39.94921217459611|116.3787620365662,39.949037385814684|116.37886754004548,39.94894356058754|116.37896417927053,39.948930116744705|116.37925475204713,39.94889547286136|116.3795463639425,39.94886645929584|116.37965294979259,39.94885794433039|116.37965696391237,39.94885777993099|116.37995088660976,39.948851437045576|116.38024492354617,39.94885078032|116.38053888907483,39.94885581016776|116.38083259759416,39.94886652341165|116.38112586366375,39.948882913286646|116.38141850212381,39.948904969443134|116.38171032820867,39.94893267795415|116.38200115766703,39.948966021324054|116.38229080687444,39.94900497849926|116.38257909295136,39.94904952488189|116.38284466348425,39.94909593288342|116.38300927971136,39.94915317052355|116.38327411658558,39.94925149508355";
	drawCustomColorPolygon(wgs84_1,"#ff0000","#ff0000",0.4,1,false,""); //红色	
	//投影
	var wgs84_2 = "116.38620927655789,39.96377266143756|116.38612369675711,39.9637645412935|116.38583280269286,39.963731209457634|116.38554308935888,39.963692262326646|116.38525473980687,39.963647724509535|116.38496793623307,39.96359762414709|116.38468285986384,39.96354199289485|116.38439969081243,39.96348086590094|116.38411884700645,39.963414338405926|116.38384019035281,39.96334238116133|116.38356381139309,39.96326501244871|116.38329004706651,39.96318232306508|116.38301907034328,39.96309436525784|116.38275105243032,39.96300119460074|116.38248616266308,39.9629028699641|116.38222456839851,39.962799453471455|116.38196689479835,39.96269120366646|116.3817137313547,39.9625784024881|116.3814630563066,39.96246013870697|116.38121642534055,39.96233711506553|116.38097399065866,39.962209413079236|116.38073621560669,39.96207729156779|116.38050218775373,39.96194023636284|116.3802727106271,39.9617986983935|116.38004792918477,39.96165276708516|116.37982798541438,39.96150253463826|116.37961301825327,39.96134809597001|116.3794031836366,39.96118956388365|116.37919872742013,39.96102713011795|116.37899949178838,39.96086066854906|116.37880575617338,39.960690406373665|116.37861764292643,39.96051645116049|116.37843527085877,39.96033891281|116.3782587551452,39.96015790348751|116.3780882072579,39.95997353754864|116.37792373489458,39.9597859314715|116.37776544190824,39.95959520377604|116.37761342826559,39.95940147495689|116.3774677899424,39.95920486740156|116.37732861887862,39.95900550531717|116.37719600296163,39.95880351464922|116.37707002588954,39.95859902300243|116.3769507672001,39.958392159558564|116.37683830217844,39.95818305500131|116.37673270179131,39.957971841424495|116.37663405146083,39.95775869280016|116.37654238458062,39.9575436830456|116.37645776043472,39.95732694787438|116.37638024108126,39.95710864452976|116.37630987542042,39.956888910911935|116.37624670783606,39.95666788582321|116.37619077815697,39.956445708880935|116.3761421216439,39.95622252042826|116.37610076895994,39.955998461445944|116.37606674615681,39.95577367346344|116.37604007464971,39.95554829846924|116.37602077121541,39.95532247882086|116.37600884797418,39.955096357156506|116.37600431238425,39.95487007630246|116.37600716723738,39.954643779184636|116.37601741065733,39.95441760873791|116.37603503610009,39.954191707816086|116.37606003236067,39.953966219099826|116.37609238358098,39.953741285010366|116.3761320692512,39.953517047615534|116.37617906423728,39.953293648542235|116.37623333878788,39.953071228886344|116.37629485854902,39.95284992912426|116.3763635845987,39.95262988902354|116.3764394734621,39.952411247553954|116.376522477142,39.95219414280231|116.3766125431494,39.95197871188204|116.37670961453624,39.95176509084897|116.37681362993082,39.95155341461411|116.37692452357987,39.95134381685944|116.377042225389,39.95113642995254|116.37716666096016,39.95093138486469|116.3772977516545,39.95072881108525|116.37743541446406,39.950528836772435|116.37757956259237,39.95033158791921|116.37773010503761,39.95013718898767|116.37788694655842,39.9499457629059|116.37804998805304,39.94975743055777|116.37821912651299,39.94957231087324|116.37839425508264,39.94939052075188|116.37857526312281,39.94921217499004|116.37876203628649,39.949037386208595|116.3788675397657,39.948943560981434|116.37896417899059,39.9489301171386|116.37925475176691,39.948895473255234|116.37954636366203,39.94886645968972|116.37965294951194,39.94885794472427|116.37965696363172,39.948857780324865|116.37995088632883,39.94885143743946|116.38024492326498,39.94885078071387|116.38053888879331,39.94885581056163|116.38083259731236,39.94886652380552|116.38112586338163,39.948882913680535|116.38141850184142,39.94890496983703|116.38171032792593,39.94893267834804|116.38200115738404,39.948966021717936|116.38229080659112,39.94900497889316|116.38257909266775,39.94904952527578|116.38284466320039,39.94909593327731|116.38300927942736,39.94915317091747|116.3832741163013,39.949251495477476|116.38353565987919,39.94935491068939|116.38379374500825,39.9494633512558|116.38404820871727,39.94957674870606|116.3842988903193,39.94969503143932|116.38454563151306,39.9498181247699|116.38478827648288,39.94994595097427|116.38502667199694,39.95007842934009|116.38526066750397,39.95021547621717|116.3854901152285,39.95035700507024|116.38571487026397,39.950502926533446|116.38593479066412,39.95065314846687|116.38614973753279,39.95080757601454|116.38635957511168,39.95096611166437|116.38656417086587,39.95112865530958|116.3867633955674,39.95129510431191|116.38695712337757,39.951465353566455|116.38714523192563,39.951639295567794|116.3873276023865,39.95181682047803|116.38750411955581,39.95199781619591|116.38767467192278,39.95218216842772|116.38783915174047,39.952369760759275|116.38799745509405,39.95256047472952|116.38814948196644,39.952754189905114|116.38829513630186,39.9529507839566|116.38843432606596,39.95315013273555|116.38856696330458,39.95335211035281|116.38869296419902,39.953556589258135|116.38881224911974,39.953763440320586|116.38892474267571,39.95397253291004|116.38903037376333,39.95418373497964|116.38912907561048,39.95439691314923|116.38922078581938,39.95461193278944|116.38930544640606,39.95482865810673|116.38938300383704,39.955046952229125|116.38945340906324,39.95526667729261|116.38951661755124,39.955487694528124|116.38957258931164,39.95570986434927|116.3896212889244,39.95593304644037|116.38966268556098,39.95615709984513|116.38969675300498,39.956381883055506|116.38972346966769,39.95660725410126|116.38974281860278,39.956833070639476|116.38975478751682,39.95705919004445|116.3897593687773,39.957285469497855|116.38975655941758,39.957511766078845|116.38974636113898,39.95773793685436|116.38972878030997,39.957963838969434|116.38970382796218,39.95818932973737|116.3896715197837,39.95841426672989|116.38963187610946,39.95863850786714|116.38958492190827,39.95886191150737|116.3895306867677,39.9590843365365|116.38946920487503,39.95930564245714|116.38940051499603,39.95952568947759|116.38932466045097,39.95974433859985|116.38924168908706,39.95996145170772|116.38915165324826,39.9601768916539|116.38905460974293,39.960390522346714|116.3889506198077,39.96060220883609|116.3888397490687,39.96081181739884|116.38872206750104,39.96101921562318|116.38859764938378,39.96122427249244|116.38846657325406,39.961426858467725|116.38832892185692,39.96162684557003|116.38818478209365,39.961824107460856|116.38803424496645,39.96201851952231|116.3878774055216,39.962209958935645|116.38771436278928,39.962398304759134|116.38754521972116,39.96258343800429|116.38737008312526,39.96276524171126|116.38718906359884,39.96294360102268|116.38700227545831,39.96311840325633|116.38680983666744,39.96328953797631|116.38661186876256,39.9634568970629|116.3864084967759,39.96362037478098";
	drawCustomColorPolygon(wgs84_2,"#00ff00","#00ff00",0.4,1,false,"");	//绿色
	var wgs84_3 = "116.38620927684472,39.96377266104156|116.38612369704386,39.96376454089751|116.38583280297934,39.963731209061635|116.38554308964507,39.96369226193065|116.38525474009273,39.96364772411354|116.38496793651869,39.963597623751106|116.38468286014911,39.963541992498854|116.38439969109744,39.96348086550496|116.3841188472912,39.96341433800995|116.38384019063722,39.96334238076539|116.38356381167723,39.963265012052766|116.38329004735039,39.96318232266914|116.38301907062689,39.96309436486192|116.38275105271367,39.96300119420486|116.38248616294618,39.9629028695682|116.38222456868132,39.962799453075576|116.38196689508084,39.962691203270595|116.381713731637,39.96257840209225|116.38146305658866,39.962460138311144|116.38121642562236,39.962337114669715|116.38097399094018,39.962209412683436|116.38073621588804,39.962077291172015|116.38050218803481,39.961940235967084|116.38027271090793,39.96179869799777|116.38004792946535,39.96165276668944|116.3798279856948,39.96150253424257|116.37961301853348,39.96134809557434|116.37940318391657,39.96118956348799|116.37919872769994,39.96102712972232|116.37899949206802,39.960860668153465|116.37880575645273,39.96069040597808|116.3786176432056,39.96051645076492|116.37843527113776,39.960338912414464|116.37825875542404,39.960157903092|116.37808820753658,39.95997353715317|116.3779237351731,39.95978593107604|116.37776544218664,39.959595203380616|116.37761342854382,39.95940147456149|116.37746779022046,39.95920486700619|116.37732861915657,39.95900550492184|116.37719600323943,39.95880351425391|116.37707002616725,39.95859902260713|116.37695076747774,39.95839215916332|116.3768383024559,39.95818305460609|116.37673270206867,39.957971841029305|116.3766340517381,39.957758692405|116.37654238485781,39.95754368265047|116.37645776071182,39.95732694747928|116.37638024135828,39.95710864413468|116.37630987569743,39.956888910516895|116.376246708113,39.9566678854282|116.37619077843388,39.95644570848597|116.37614212192076,39.95622252003332|116.3761007692367,39.95599846105103|116.37606674643357,39.955773673068556|116.37604007492646,39.95554829807439|116.37602077149216,39.955322478426055|116.37600884825093,39.955096356761715|116.37600431266101,39.95487007590772|116.37600716751415,39.95464377878993|116.3760174109341,39.95441760834323|116.37603503637685,39.95419170742142|116.37606003263754,39.95396621870521|116.37609238385782,39.95374128461578|116.37613206952811,39.95351704722097|116.37617906451429,39.953293648147714|116.3762333390649,39.953071228491865|116.37629485882611,39.95284992872981|116.3763635848759,39.95262988862911|116.37643947373937,39.95241124715958|116.37652247741937,39.95219414240795|116.37661254342684,39.95197871148771|116.37670961481379,39.95176509045467|116.37681363020845,39.95155341421984|116.37692452385767,39.9513438164652|116.37704222566688,39.95113642955834|116.3771666612382,39.950931384470515|116.37729775193263,39.9507288106911|116.37743541474237,39.95052883637831|116.37757956287086,39.95033158752513|116.37773010531627,39.95013718859361|116.37788694683717,39.94994576251186|116.37804998833195,39.949757430163764|116.37821912679217,39.94957231047926|116.37839425536193,39.94939052035792|116.37857526340234,39.94921217459611|116.3787620365662,39.949037385814684|116.37886754004548,39.94894356058754|116.37896417927053,39.948930116744705|116.37925475204713,39.94889547286136|116.3795463639425,39.94886645929584|116.37965294979259,39.94885794433039|116.37965696391237,39.94885777993099|116.37995088660976,39.948851437045576|116.38024492354617,39.94885078032|116.38053888907483,39.94885581016776|116.38083259759416,39.94886652341165|116.38112586366375,39.948882913286646|116.38141850212381,39.948904969443134|116.38171032820867,39.94893267795415|116.38200115766703,39.948966021324054|116.38229080687444,39.94900497849926|116.38257909295136,39.94904952488189|116.38284466348425,39.94909593288342|116.38300927971136,39.94915317052355|116.38327411658558,39.94925149508355|116.38353566016376,39.949354910295455|116.38379374529306,39.949463350861855|116.38404820900233,39.94957674831208|116.38429889060463,39.94969503104533|116.38454563179866,39.949818124375895|116.38478827676873,39.94994595058024|116.38502667228296,39.95007842894605|116.38526066779028,39.95021547582312|116.38549011551507,39.95035700467615|116.3857148705507,39.95050292613935|116.3859347909511,39.95065314807275|116.38614973782003,39.950807575620395|116.3863595753991,39.9509661112702|116.38656417115345,39.95112865491539|116.38676339585525,39.9512951039177|116.38695712366561,39.95146535317221|116.38714523221383,39.951639295173536|116.38732760267486,39.95181682008374|116.38750411984437,39.951997815801604|116.3876746722115,39.952182168033374|116.38783915202936,39.95236976036491|116.3879974553831,39.95256047433512|116.3881494822557,39.95275418951069|116.3882951365912,39.95295078356216|116.38843432635547,39.95315013234107|116.38856696359417,39.95335210995831|116.38869296448878,39.953556588863606|116.38881224940961,39.953763439926014|116.38892474296573,39.953972532515444|116.38903037405343,39.95418373458502|116.38912907590068,39.95439691275457|116.38922078610965,39.95461193239475|116.38930544669643,39.954828657712014|116.38938300412748,39.95504695183438|116.38945340935368,39.95526667689782|116.38951661784179,39.95548769413331|116.38957258960227,39.955709863954425|116.38962128921503,39.95593304604551|116.38966268585168,39.95615709945022|116.38969675329568,39.95638188266057|116.38972346995838,39.95660725370629|116.38974281889351,39.956833070244464|116.38975478780752,39.957059189649414|116.389759369068,39.957285469102786|116.3897565597083,39.95751176568374|116.38974636142972,39.957737936459225|116.38972878060066,39.95796383857427|116.3897038282528,39.958189329342176|116.38967152007436,39.958414266334664|116.38963187640002,39.95863850747188|116.38958492219882,39.95886191111207|116.38953068705817,39.95908433614116|116.3894692051654,39.95930564206178|116.38940051528633,39.95952568908219|116.38932466074117,39.95974433820443|116.38924168937717,39.959961451312275|116.3891516535383,39.96017689125842|116.38905461003287,39.96039052195121|116.38895062009746,39.96060220844054|116.38883974935835,39.96081181700327|116.38872206779054,39.96101921522758|116.38859764967322,39.96122427209679|116.3884665735433,39.961426858072066|116.38832892214607,39.96162684517434|116.38818478238264,39.96182410706514|116.38803424525527,39.96201851912655|116.38787740581024,39.962209958539866|116.38771436307775,39.96239830436332|116.38754522000944,39.96258343760845|116.38737008341337,39.962765241315395|116.3871890638867,39.962943600626794|116.38700227574601,39.963118402860424|116.38680983695497,39.963289537580366|116.3866118690498,39.96345689666694|116.386408497063,39.96362037438499";
	drawCustomColorPolygon(wgs84_2,"#F6337C","#F6337C",0.4,1,false,""); //枚红色 */
});
</script>
</head>

<body>
	<div id="map"></div>
</body>
</html>
